(function() {
  document.addEventListener('DOMContentLoaded', function() {
    var benchmarkChartCanvas, chart, createBarChart, ctx, elementCountInput, resultsDiv, runBenchmark, runBenchmarkButton, testRepetitionsInput, testRepetitionsValue;
    elementCountInput = document.getElementById('elementCount');
    runBenchmarkButton = document.getElementById('runBenchmark');
    resultsDiv = document.getElementById('results');
    benchmarkChartCanvas = document.getElementById('benchmarkChart');
    testRepetitionsInput = document.getElementById('testRepetitions');
    testRepetitionsValue = document.getElementById('testRepetitionsValue');
    ctx = benchmarkChartCanvas.getContext('2d');
    chart = null;
    testRepetitionsInput.addEventListener('input', function() {
      return testRepetitionsValue.textContent = testRepetitionsInput.value;
    });
    runBenchmark = function(elementCount) {
      return new Promise(function(resolve) {
        var container, duration, element, endTime, i, j, ref, startTime;
        startTime = performance.now();
        container = document.createElement('div');
        for (i = j = 0, ref = elementCount; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {
          element = document.createElement('div');
          element.textContent = `Element ${i + 1}`;
          container.appendChild(element);
        }
        document.body.appendChild(container);
        endTime = performance.now();
        duration = endTime - startTime;
        document.body.removeChild(container);
        return resolve(duration);
      });
    };
    createBarChart = function(data, labels) {
      var barWidth, chartHeight, chartWidth, maxValue, padding;
      maxValue = Math.max(...data);
      chartHeight = benchmarkChartCanvas.height;
      chartWidth = benchmarkChartCanvas.width;
      barWidth = chartWidth / labels.length;
      padding = 10;
      ctx.clearRect(0, 0, chartWidth, chartHeight);
      return data.forEach(function(value, index) {
        var barHeight, x, y;
        barHeight = (value / maxValue) * (chartHeight - 2 * padding);
        x = index * barWidth;
        y = chartHeight - barHeight - padding;
        ctx.fillStyle = 'rgba(255, 99, 132, 0.2)';
        ctx.fillRect(x, y, barWidth - 5, barHeight);
        ctx.fillStyle = 'rgba(255, 99, 132, 1)';
        ctx.strokeRect(x, y, barWidth - 5, barHeight);
        ctx.fillStyle = 'black';
        ctx.font = '12px sans-serif';
        ctx.textAlign = 'center';
        return ctx.fillText(labels[index], x + barWidth / 2, chartHeight - padding / 2);
      });
    };
    return runBenchmarkButton.addEventListener('click', function() {
      var durations, elementCount, repetitions;
      elementCount = parseInt(elementCountInput.value);
      repetitions = parseInt(testRepetitionsInput.value);
      if (isNaN(elementCount) || elementCount <= 0) {
        resultsDiv.textContent = 'Please enter a valid number of elements.';
        return;
      }
      durations = [];
      return (async function() {        
        // CoffeeScript async pattern
        var averageDuration, duration, i, j, labels, ref;
        for (i = j = 0, ref = repetitions; (0 <= ref ? j < ref : j > ref); i = 0 <= ref ? ++j : --j) {
          duration = (await runBenchmark(elementCount));
          durations.push(duration);
          resultsDiv.textContent = `Run ${i + 1}: ${duration.toFixed(2)} ms`;
          await new Promise(function(resolve) {
            return setTimeout(resolve, 50);
          });
        }
        averageDuration = durations.reduce((function(a, b) {
          return a + b;
        }), 0) / repetitions;
        resultsDiv.textContent = `Average time: ${averageDuration.toFixed(2)} ms`;
        labels = Array.from({
          length: repetitions
        }, function(_, i) {
          return `Run ${i + 1}`;
        });
        labels.push('Average');
        return createBarChart([...durations, averageDuration], labels);
      })();
    });
  });

}).call(this);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiPGFub255bW91cz4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFBQSxRQUFRLENBQUMsZ0JBQVQsQ0FBMEIsa0JBQTFCLEVBQThDLFFBQUEsQ0FBQSxDQUFBO0FBQzlDLFFBQUEsb0JBQUEsRUFBQSxLQUFBLEVBQUEsY0FBQSxFQUFBLEdBQUEsRUFBQSxpQkFBQSxFQUFBLFVBQUEsRUFBQSxZQUFBLEVBQUEsa0JBQUEsRUFBQSxvQkFBQSxFQUFBO0lBQUksaUJBQUEsR0FBb0IsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsY0FBeEI7SUFDcEIsa0JBQUEsR0FBcUIsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsY0FBeEI7SUFDckIsVUFBQSxHQUFhLFFBQVEsQ0FBQyxjQUFULENBQXdCLFNBQXhCO0lBQ2Isb0JBQUEsR0FBdUIsUUFBUSxDQUFDLGNBQVQsQ0FBd0IsZ0JBQXhCO0lBQ3ZCLG9CQUFBLEdBQXVCLFFBQVEsQ0FBQyxjQUFULENBQXdCLGlCQUF4QjtJQUN2QixvQkFBQSxHQUF1QixRQUFRLENBQUMsY0FBVCxDQUF3QixzQkFBeEI7SUFDdkIsR0FBQSxHQUFNLG9CQUFvQixDQUFDLFVBQXJCLENBQWdDLElBQWhDO0lBRU4sS0FBQSxHQUFRO0lBRVIsb0JBQW9CLENBQUMsZ0JBQXJCLENBQXNDLE9BQXRDLEVBQStDLFFBQUEsQ0FBQSxDQUFBO2FBQzNDLG9CQUFvQixDQUFDLFdBQXJCLEdBQW1DLG9CQUFvQixDQUFDO0lBRGIsQ0FBL0M7SUFHQSxZQUFBLEdBQWUsUUFBQSxDQUFDLFlBQUQsQ0FBQTthQUNYLElBQUksT0FBSixDQUFZLFFBQUEsQ0FBQyxPQUFELENBQUE7QUFDcEIsWUFBQSxTQUFBLEVBQUEsUUFBQSxFQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsQ0FBQSxFQUFBLENBQUEsRUFBQSxHQUFBLEVBQUE7UUFBWSxTQUFBLEdBQVksV0FBVyxDQUFDLEdBQVosQ0FBQTtRQUNaLFNBQUEsR0FBWSxR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QUMsV0FBWCxHQUF5QixDQUFBLElBQUEsQ0FBQSxDQUFPLENBQUEsR0FBSSxDQUFYLENBQUEsRUFBQSxDQUFBLENBQWlCLFFBQVEsQ0FBQyxPQUFULENBQWlCLENBQWpCLENBQWpCLENBQUEsR0FBQTtVQUN6QixNQUFNLElBQUksT0FBSixDQUFZLFFBQUEsQ0FBQyxPQUFELENBQUE7bUJBQWEsVUFBQSxDQUFXLE9BQVgsRUFBb0IsRUFBcEI7VUFBYixDQUFaO1FBSlY7UUFNQSxlQUFBLEdBQWtCLFNBQVMsQ0FBQyxNQUFWLENBQWlCLENBQUMsUUFBQSxDQUFDLENBQUQsRUFBSSxDQUFKLENBQUE7aUJBQVUsQ0FBQSxHQUFJO1FBQWQsQ0FBRCxDQUFqQixFQUFvQyxDQUFwQyxDQUFBLEdBQXlDO1FBQzNELFVBQVUsQ0FBQyxXQUFYLEdBQXlCLENBQUEsY0FBQSxDQUFBLENBQWlCLGVBQWUsQ0FBQyxPQUFoQixDQUF3QixDQUF4QixDQUFqQixDQUFBLEdBQUE7UUFFekIsTUFBQSxHQUFTLEtBQUssQ0FBQyxJQUFOLENBQVc7VUFBQyxNQUFBLEVBQVE7UUFBVCxDQUFYLEVBQWtDLFFBQUEsQ0FBQyxDQUFELEVBQUksQ0FBSixDQUFBO2lCQUFVLENBQUEsSUFBQSxDQUFBLENBQU8sQ0FBQSxHQUFJLENBQVgsQ0FBQTtRQUFWLENBQWxDO1FBQ1QsTUFBTSxDQUFDLElBQVAsQ0FBWSxTQUFaO2VBRUEsY0FBQSxDQUFlLENBQUMsR0FBRyxTQUFKLEVBQWUsZUFBZixDQUFmLEVBQWdELE1BQWhEO01BYkgsQ0FBRCxDQUFBLENBQUE7SUFYeUMsQ0FBN0M7RUF0RDBDLENBQTlDO0FBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICdET01Db250ZW50TG9hZGVkJywgLT5cbiAgICBlbGVtZW50Q291bnRJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbGVtZW50Q291bnQnKVxuICAgIHJ1bkJlbmNobWFya0J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdydW5CZW5jaG1hcmsnKVxuICAgIHJlc3VsdHNEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0cycpXG4gICAgYmVuY2htYXJrQ2hhcnRDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmVuY2htYXJrQ2hhcnQnKVxuICAgIHRlc3RSZXBldGl0aW9uc0lucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Rlc3RSZXBldGl0aW9ucycpXG4gICAgdGVzdFJlcGV0aXRpb25zVmFsdWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndGVzdFJlcGV0aXRpb25zVmFsdWUnKVxuICAgIGN0eCA9IGJlbmNobWFya0NoYXJ0Q2FudmFzLmdldENvbnRleHQoJzJkJylcblxuICAgIGNoYXJ0ID0gbnVsbFxuXG4gICAgdGVzdFJlcGV0aXRpb25zSW5wdXQuYWRkRXZlbnRMaXN0ZW5lciAnaW5wdXQnLCAtPlxuICAgICAgICB0ZXN0UmVwZXRpdGlvbnNWYWx1ZS50ZXh0Q29udGVudCA9IHRlc3RSZXBldGl0aW9uc0lucHV0LnZhbHVlXG5cbiAgICBydW5CZW5jaG1hcmsgPSAoZWxlbWVudENvdW50KSAtPlxuICAgICAgICBuZXcgUHJvbWlzZSAocmVzb2x2ZSkgLT5cbiAgICAgICAgICAgIHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpXG4gICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgICAgICAgICAgZm9yIGkgaW4gWzAuLi5lbGVtZW50Q291bnRdXG4gICAgICAgICAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gICAgICAgICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IFwiRWxlbWVudCAje2kgKyAxfVwiXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lcilcbiAgICAgICAgICAgIGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKVxuXG4gICAgICAgICAgICBkdXJhdGlvbiA9IGVuZFRpbWUgLSBzdGFydFRpbWVcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoY29udGFpbmVyKVxuICAgICAgICAgICAgcmVzb2x2ZShkdXJhdGlvbilcblxuICAgIGNyZWF0ZUJhckNoYXJ0ID0gKGRhdGEsIGxhYmVscykgLT5cbiAgICAgICAgbWF4VmFsdWUgPSBNYXRoLm1heCBkYXRhLi4uXG4gICAgICAgIGNoYXJ0SGVpZ2h0ID0gYmVuY2htYXJrQ2hhcnRDYW52YXMuaGVpZ2h0XG4gICAgICAgIGNoYXJ0V2lkdGggPSBiZW5jaG1hcmtDaGFydENhbnZhcy53aWR0aFxuICAgICAgICBiYXJXaWR0aCA9IGNoYXJ0V2lkdGggLyBsYWJlbHMubGVuZ3RoXG4gICAgICAgIHBhZGRpbmcgPSAxMFxuXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2hhcnRXaWR0aCwgY2hhcnRIZWlnaHQpXG5cbiAgICAgICAgZGF0YS5mb3JFYWNoICh2YWx1ZSwgaW5kZXgpIC0+XG4gICAgICAgICAgICBiYXJIZWlnaHQgPSAodmFsdWUgLyBtYXhWYWx1ZSkgKiAoY2hhcnRIZWlnaHQgLSAyICogcGFkZGluZylcbiAgICAgICAgICAgIHggPSBpbmRleCAqIGJhcldpZHRoXG4gICAgICAgICAgICB5ID0gY2hhcnRIZWlnaHQgLSBiYXJIZWlnaHQgLSBwYWRkaW5nXG5cbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDk5LCAxMzIsIDAuMiknXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QoeCwgeSwgYmFyV2lkdGggLSA1LCBiYXJIZWlnaHQpXG5cbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAncmdiYSgyNTUsIDk5LCAxMzIsIDEpJ1xuICAgICAgICAgICAgY3R4LnN0cm9rZVJlY3QoeCwgeSwgYmFyV2lkdGggLSA1LCBiYXJIZWlnaHQpXG5cbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSAnYmxhY2snXG4gICAgICAgICAgICBjdHguZm9udCA9ICcxMnB4IHNhbnMtc2VyaWYnXG4gICAgICAgICAgICBjdHgudGV4dEFsaWduID0gJ2NlbnRlcidcbiAgICAgICAgICAgIGN0eC5maWxsVGV4dChsYWJlbHNbaW5kZXhdLCB4ICsgYmFyV2lkdGggLyAyLCBjaGFydEhlaWdodCAtIHBhZGRpbmcgLyAyKVxuXG4gICAgcnVuQmVuY2htYXJrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIgJ2NsaWNrJywgLT5cbiAgICAgICAgZWxlbWVudENvdW50ID0gcGFyc2VJbnQoZWxlbWVudENvdW50SW5wdXQudmFsdWUpXG4gICAgICAgIHJlcGV0aXRpb25zID0gcGFyc2VJbnQodGVzdFJlcGV0aXRpb25zSW5wdXQudmFsdWUpXG5cbiAgICAgICAgaWYgaXNOYU4oZWxlbWVudENvdW50KSBvciBlbGVtZW50Q291bnQgPD0gMFxuICAgICAgICAgICAgcmVzdWx0c0Rpdi50ZXh0Q29udGVudCA9ICdQbGVhc2UgZW50ZXIgYSB2YWxpZCBudW1iZXIgb2YgZWxlbWVudHMuJ1xuICAgICAgICAgICAgcmV0dXJuXG5cbiAgICAgICAgZHVyYXRpb25zID0gW11cbiAgICAgICAgXG4gICAgICAgICMgQ29mZmVlU2NyaXB0IGFzeW5jIHBhdHRlcm5cbiAgICAgICAgKC0+XG4gICAgICAgICAgICBmb3IgaSBpbiBbMC4uLnJlcGV0aXRpb25zXVxuICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gYXdhaXQgcnVuQmVuY2htYXJrKGVsZW1lbnRDb3VudClcbiAgICAgICAgICAgICAgICBkdXJhdGlvbnMucHVzaChkdXJhdGlvbilcbiAgICAgICAgICAgICAgICByZXN1bHRzRGl2LnRleHRDb250ZW50ID0gXCJSdW4gI3tpICsgMX06ICN7ZHVyYXRpb24udG9GaXhlZCgyKX0gbXNcIlxuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlIChyZXNvbHZlKSAtPiBzZXRUaW1lb3V0KHJlc29sdmUsIDUwKVxuXG4gICAgICAgICAgICBhdmVyYWdlRHVyYXRpb24gPSBkdXJhdGlvbnMucmVkdWNlKCgoYSwgYikgLT4gYSArIGIpLCAwKSAvIHJlcGV0aXRpb25zXG4gICAgICAgICAgICByZXN1bHRzRGl2LnRleHRDb250ZW50ID0gXCJBdmVyYWdlIHRpbWU6ICN7YXZlcmFnZUR1cmF0aW9uLnRvRml4ZWQoMil9IG1zXCJcblxuICAgICAgICAgICAgbGFiZWxzID0gQXJyYXkuZnJvbSB7bGVuZ3RoOiByZXBldGl0aW9uc30sIChfLCBpKSAtPiBcIlJ1biAje2kgKyAxfVwiXG4gICAgICAgICAgICBsYWJlbHMucHVzaCgnQXZlcmFnZScpXG5cbiAgICAgICAgICAgIGNyZWF0ZUJhckNoYXJ0KFsuLi5kdXJhdGlvbnMsIGF2ZXJhZ2VEdXJhdGlvbl0sIGxhYmVscylcbiAgICAgICAgKSgpIl19
//# sourceURL=coffeescript